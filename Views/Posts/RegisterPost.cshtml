@model Posts;
@using Microsoft.AspNetCore.Http;
@using System;
@{
    ViewData["Title"] = "Crie Sua Postagem";

    var postDate = DateTime.Now.ToString("dd/MM/yyyy HH:mm:ss");
    var postAuthor = Context.Session.GetString("login");

}

<body class="text-center">

    <main role="main" class="body-post img-fluid">

        <div class="row justify-content-md-center">

            <div class="jumbotron col-md-6 col-lg-6 col-sm-12 mt-5">

                <h2 class="mb-4 mr-5">Crie seu Post</h2>

                <div class="">

                    <form id="frmCadastro" asp-controller="Posts" asp-action="RegisterPost" method="post">

                        <p>

                            <input value="@postDate" class="form-control btn-block" type="hidden" asp-for="PostDate" />
                            <input value="@postAuthor" class="form-control btn-block" type="hidden" asp-for="Author" />

                        </p>

                        <p>
                            <textarea class="form-control btn-block" placeholder="Insira seu Texto" asp-for="Content"
                            cols="40" rows="5" required></textarea>
                            <p class="text-danger">@ViewData["messagePost"]</p>
                            <p class="text-danger">@ViewData["messagePostError"]</p>
                        </p>

                        <input value=@Context.Session.GetInt32("IdUser") type="hidden" asp-for="UsersId">
                        <input type="hidden" name="Id" asp-for="Id">
                        <input type="hidden" name="UsersId" asp-for="UsersId">

                        <p class="text-danger mt-3">@ViewData["messagePost"]</p>
                        <p class="text-danger mt-3">@ViewData["messagePostError"]</p>

                        <button class="btn btn-primary btn-lg mt-5 but-post" type="submit">Postar</button>

                    </form>

                </div>

            </div>

        </div>

    </main>

</body>
